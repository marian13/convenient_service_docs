"use strict";(self.webpackChunkconvenient_service_docs=self.webpackChunkconvenient_service_docs||[]).push([[877],{864:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>a});var s=i(4848),r=i(8453);const d={slug:"/deprecations/some_require_dependency_methods",sidebar_position:3,title:"Some `require` dependency methods"},t=void 0,o={id:"deprecations/some_require_dependency_methods",title:"Some `require` dependency methods",description:"require dependency methods in configs",source:"@site/docs/deprecations/some_require_dependency_methods.mdx",sourceDirName:"deprecations",slug:"/deprecations/some_require_dependency_methods",permalink:"/deprecations/some_require_dependency_methods",draft:!1,unlisted:!1,editUrl:"https://github.com/marian13/convenient_service_docs/blob/main/docs/deprecations/some_require_dependency_methods.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{slug:"/deprecations/some_require_dependency_methods",sidebar_position:3,title:"Some `require` dependency methods"},sidebar:"docs",previous:{title:"Reassignments",permalink:"/deprecations/reassignments"},next:{title:"Index",permalink:"/index"}},c={},a=[{value:"<code>require</code> dependency methods in configs",id:"require-dependency-methods-in-configs",level:3},{value:"<code>require</code> dependency methods for RSpec",id:"require-dependency-methods-for-rspec",level:3}];function l(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h3,{id:"require-dependency-methods-in-configs",children:[(0,s.jsx)(n.code,{children:"require"})," dependency methods in configs"]}),"\n",(0,s.jsxs)(n.p,{children:["Imagine a config from ",(0,s.jsx)(n.code,{children:"v0.19.1"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ruby",children:"ConvenientService.logger.level = Logger::INFO\n\nConvenientService::Dependencies.require_has_j_send_result_params_validations_using_active_model_validations\nConvenientService::Dependencies.require_assigns_attributes_in_constructor_using_dry_initializer\nConvenientService::Dependencies.require_rescues_result_unhandled_exceptions\nConvenientService::Dependencies.require_awesome_print_inspect if Rails.env.development? || Rails.env.test?\n\nmodule ApplicationService\n  module Default\n    module Config\n      include ConvenientService::Concern\n\n      included do\n        include ConvenientService::Standard::Config\n\n        if Rails.env.development? || Rails.env.test?\n          include ConvenientService::AwesomePrintInspect::Config\n        end\n\n        concerns do\n          use ConvenientService::Plugins::Common::AssignsAttributesInConstructor::UsingDryInitializer::Concern\n          use ConvenientService::Plugins::Service::HasJSendResultParamsValidations::UsingActiveModelValidations::Concern\n        end\n\n        middlewares :initialize do\n          use ConvenientService::Plugins::Service::ForbidsConvenientServiceEntitiesAsConstructorArguments::Middleware\n        end\n\n        middlewares :result do\n          insert_before \\\n            ConvenientService::Plugins::Service::CanHaveConnectedSteps::Middleware,\n            ConvenientService::Plugins::Service::HasJSendResultParamsValidations::UsingActiveModelValidations::Middleware\n        end\n\n        if !Rails.env.test?\n          middlewares :result do\n            use ConvenientService::Plugins::Service::RescuesResultUnhandledExceptions::Middleware\n          end\n\n          middlewares :result, scope: :class do\n            use ConvenientService::Plugins::Service::RescuesResultUnhandledExceptions::Middleware\n          end\n        end\n      end\n    end\n  end\nend\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Its ",(0,s.jsx)(n.code,{children:"v0.20.0"})," equivalent is the following:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ruby",children:'require "convenient_service/extras/standard/config/options/active_model_validations"\nrequire "convenient_service/extras/standard/config/options/dry_initializer"\nrequire "convenient_service/extras/standard/config/options/awesome_print_inspect" if Rails.env.development? || Rails.env.test?\n\nmodule ApplicationService\n  module Default\n    module Config\n      include ConvenientService::Config\n\n      included do\n        include ConvenientService::Standard::Config\n          .with(\n            :dry_initializer,\n            :active_model_validations,\n            code_review_automation: Rails.env.development? || Rails.env.test?,\n            fault_tolerance: !Rails.env.test?,\n            awesome_print_inspect: Rails.env.development? || Rails.env.test?\n          )\n      end\n    end\n  end\nend\n'})}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.code,{children:"ConvenientService::Standard::V1::Config"})," the migration is the same."]}),"\n",(0,s.jsxs)(n.p,{children:["Just type ",(0,s.jsx)(n.code,{children:"ConvenientService::Standard::V1::Config"})," in places where ",(0,s.jsx)(n.code,{children:"ConvenientService::Standard::Config"})," is used in the example above."]}),"\n",(0,s.jsxs)(n.h3,{id:"require-dependency-methods-for-rspec",children:[(0,s.jsx)(n.code,{children:"require"})," dependency methods for RSpec"]}),"\n",(0,s.jsx)(n.p,{children:"Before:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ruby",children:"ConvenientService::Dependencies.require_rspec_extentions\n"})}),"\n",(0,s.jsx)(n.p,{children:"After:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ruby",children:'require "convenient_service/extras/rspec"\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(6540);const r={},d=s.createContext(r);function t(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);